import board
import busio
import time
import usb_hid
from adafruit_hid.mouse import Mouse
import digitalio
import usb_cdc
import board
import digitalio

led = digitalio.DigitalInOut(board.LED)
led.direction = digitalio.Direction.OUTPUT

# Create a Mouse object
mouse = Mouse(usb_hid.devices) 




while True:
    if usb_cdc.console.in_waiting > 0:
        # Read the incoming message
        message = usb_cdc.console.read(usb_cdc.console.in_waiting).decode("utf-8").strip()
        
        # Perform an action based on the received message
        if message == "1":
            time.sleep(0.1)
            mouse.click(Mouse.LEFT_BUTTON)
            time.sleep(0.1)
            led.value = True
        elif message == "0":
            led.value = False
